DELETE FROM `monasca_transform`.`transform_specs`;

INSERT IGNORE INTO `monasca_transform`.`transform_specs`
(`metric_id`,
`transform_spec`)
VALUES
('mem_total_all',
'{"metric_group": "mem_total_all", "metric_id": "mem_total_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id"], "aggregated_metric_name": "mem.total_mb_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('mem_usable_all',
'{"metric_group": "mem_usable_all", "metric_id": "mem_usable_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id"], "aggregated_metric_name": "mem.usable_mb_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('vm_mem_total_mb_all',
'{"metric_group": "vm_mem_total_mb_all", "metric_id": "vm_mem_total_mb_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id", "resource_uuid"], "aggregated_metric_name": "vm.mem.total_mb_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('vm_mem_total_mb_project',
'{"metric_group": "vm_mem_total_mb_project", "metric_id": "vm_mem_total_mb_project", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id", "resource_uuid"], "aggregated_metric_name": "vm.mem.total_mb_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": ["tenant_id"], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('vm_mem_used_mb_all',
'{"metric_group": "vm_mem_used_mb_all", "metric_id": "vm_mem_used_mb_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id", "resource_uuid"], "aggregated_metric_name": "vm.mem.used_mb_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('vm_mem_used_mb_project',
'{"metric_group": "vm_mem_used_mb_project", "metric_id": "vm_mem_used_mb_project", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id", "resource_uuid"], "aggregated_metric_name": "vm.mem.used_mb_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": ["tenant_id"], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('nova_vm_mem_total_all',
'{"metric_group": "nova_vm_mem_total_all", "metric_id": "nova_vm_mem_total_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id"], "aggregated_metric_name": "nova.vm.mem.total_allocated_mb_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('disk_total_all',
'{"metric_group": "disk_total_all", "metric_id": "disk_total_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id"], "aggregated_metric_name": "disk.total_space_mb_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('disk_usable_all',
'{"metric_group": "disk_usable_all", "metric_id": "disk_usable_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id"], "aggregated_metric_name": "disk.total_used_space_mb_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('nova_disk_total_allocated_gb_all',
'{"metric_group": "nova_disk_total_allocated_gb_all", "metric_id": "nova_disk_total_allocated_gb_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id"], "aggregated_metric_name": "nova.vm.disk.total_allocated_gb_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('vm_disk_allocation_all',
'{"metric_group": "vm_disk_allocation_all", "metric_id": "vm_disk_allocation_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id", "resource_uuid"], "aggregated_metric_name": "vm.disk.allocation_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('vm_disk_allocation_project',
'{"metric_group": "vm_disk_allocation_project", "metric_id": "vm_disk_allocation_project", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id", "resource_uuid"], "aggregated_metric_name": "vm.disk.allocation_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": ["tenant_id"], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('cpu_total_all',
'{"metric_group": "cpu_total_all", "metric_id": "cpu_total_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id"], "aggregated_metric_name": "cpu.total_logical_cores_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('cpu_total_host',
'{"metric_group": "cpu_total_host", "metric_id": "cpu_total_host", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id"], "aggregated_metric_name": "cpu.total_logical_cores_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": ["host"], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('cpu_util_all',
'{"metric_group": "cpu_util_all", "metric_id": "cpu_util_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["event_type", "host"], "aggregated_metric_name": "cpu.utilized_logical_cores_agg", "filter_by_list": [], "usage_fetch_util_idle_perc_event_type": "cpu.idle_perc", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity_util", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "setter_rollup_operation": "sum", "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "usage_fetch_util_quantity_event_type": "cpu.total_logical_cores", "usage_fetch_operation": "avg"}}'),
('cpu_util_host',
'{"metric_group": "cpu_util_host", "metric_id": "cpu_util_host", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["event_type", "host"], "aggregated_metric_name": "cpu.utilized_logical_cores_agg", "filter_by_list": [], "usage_fetch_util_idle_perc_event_type": "cpu.idle_perc", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity_util", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "setter_rollup_operation": "sum", "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": ["host"], "usage_fetch_util_quantity_event_type": "cpu.total_logical_cores", "usage_fetch_operation": "avg"}}'),
('vcpus_all',
'{"metric_group": "vcpus_all", "metric_id": "vcpus_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id", "resource_uuid"], "aggregated_metric_name": "vcpus_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('vcpus_project',
'{"metric_group": "vcpus_project", "metric_id": "vcpus_project", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id", "resource_uuid"], "aggregated_metric_name": "vcpus_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": ["tenant_id"], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('vm_cpu_util_perc_project',
'{"metric_group": "vm_cpu_util_perc_project", "metric_id": "vm_cpu_util_perc_project", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "tenant_id", "resource_uuid"], "aggregated_metric_name": "vm.cpu.utilization_perc_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": ["tenant_id"], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('nova_vm_cpu_total_all',
'{"metric_group": "nova_vm_cpu_total_all", "metric_id": "nova_vm_cpu_total_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id"], "aggregated_metric_name": "nova.vm.cpu.total_allocated_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('swift_total_all',
'{"metric_group": "swift_total_all", "metric_id": "swift_total_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "mount"], "aggregated_metric_name": "swiftlm.diskusage.val.size_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('swift_total_host',
'{"metric_group": "swift_total_host", "metric_id": "swift_total_host", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "mount"], "aggregated_metric_name": "swiftlm.diskusage.val.size_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": ["host"], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('swift_avail_all',
'{"metric_group": "swift_avail_all", "metric_id": "swift_avail_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "mount"], "aggregated_metric_name": "swiftlm.diskusage.val.avail_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('swift_avail_host',
'{"metric_group": "swift_avail_host", "metric_id": "swift_avail_host", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "mount"], "aggregated_metric_name": "swiftlm.diskusage.val.avail_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "avg", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": ["host"], "filter_by_list": [], "usage_fetch_operation": "avg"}}'),
('swift_usage_rate',
'{"metric_group": "swift_avail_rate", "metric_id": "swift_usage_rate", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["host", "metric_id", "mount"], "aggregated_metric_name": "swiftlm.diskusage.rate_agg", "pre_hourly_operation": "rate", "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "aggregation_pipeline": {"usage": "calculate_rate", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["set_aggregated_metric_name", "set_aggregated_period"]}}}'),
('storage_objects_size_all',
'{"metric_group": "storage_objects_size_all", "metric_id": "storage_objects_size_all", "aggregation_params_map": {"aggregation_period": "hourly", "aggregation_group_by_list": ["metric_id", "tenant_id"], "aggregated_metric_name": "storage.objects.size_agg", "setter_rollup_operation": "sum", "pre_hourly_operation": "sum", "aggregation_pipeline": {"usage": "fetch_quantity", "source": "streaming", "insert": ["prepare_data", "insert_data_pre_hourly"], "setters": ["rollup_quantity", "set_aggregated_metric_name", "set_aggregated_period"]}, "pre_hourly_group_by_list": ["default"], "dimension_list": ["aggregation_period", "host", "project_id"], "setter_rollup_group_by_list": [], "filter_by_list": [], "usage_fetch_operation": "avg"}}');